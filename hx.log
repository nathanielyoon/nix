2025-12-13T14:48:53.084 helix_lsp::transport [INFO] nixd -> {"jsonrpc":"2.0","method":"initialize","params":{"capabilities":{"general":{"positionEncodings":["utf-8","utf-32","utf-16"]},"textDocument":{"codeAction":{"codeActionLiteralSupport":{"codeActionKind":{"valueSet":["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports","source.fixAll"]}},"dataSupport":true,"disabledSupport":true,"isPreferredSupport":true,"resolveSupport":{"properties":["edit","command"]}},"completion":{"completionItem":{"deprecatedSupport":true,"insertReplaceSupport":true,"resolveSupport":{"properties":["documentation","detail","additionalTextEdits"]},"snippetSupport":true,"tagSupport":{"valueSet":[1]}},"completionItemKind":{}},"diagnostic":{"dynamicRegistration":false,"relatedDocumentSupport":true},"formatting":{"dynamicRegistration":false},"hover":{"contentFormat":["markdown"]},"inlayHint":{"dynamicRegistration":false},"publishDiagnostics":{"tagSupport":{"valueSet":[1,2]},"versionSupport":true},"rename":{"dynamicRegistration":false,"honorsChangeAnnotations":false,"prepareSupport":true},"signatureHelp":{"signatureInformation":{"activeParameterSupport":true,"documentationFormat":["markdown"],"parameterInformation":{"labelOffsetSupport":true}}}},"window":{"showDocument":{"support":true},"workDoneProgress":true},"workspace":{"applyEdit":true,"configuration":true,"diagnostic":{"refreshSupport":true},"didChangeConfiguration":{"dynamicRegistration":false},"didChangeWatchedFiles":{"dynamicRegistration":true,"relativePatternSupport":false},"executeCommand":{"dynamicRegistration":false},"fileOperations":{"didRename":true,"willRename":true},"inlayHint":{"refreshSupport":false},"symbol":{"dynamicRegistration":false},"workspaceEdit":{"documentChanges":true,"failureHandling":"abort","normalizesLineEndings":false,"resourceOperations":["create","rename","delete"]},"workspaceFolders":true}},"clientInfo":{"name":"helix","version":"25.07.1 (900204eb)"},"processId":26331,"rootPath":"/home/nathaniel/nix","rootUri":"file:///home/nathaniel/nix","workspaceFolders":[{"name":"nix","uri":"file:///home/nathaniel/nix"}]},"id":0}
2025-12-13T14:48:53.084 helix_lsp::client [INFO] Using custom LSP config: {"nil":{"nix":{"flake":{"autoArchive":true}}}}
2025-12-13T14:48:53.084 helix_lsp::transport [INFO] nil -> {"jsonrpc":"2.0","method":"initialize","params":{"capabilities":{"general":{"positionEncodings":["utf-8","utf-32","utf-16"]},"textDocument":{"codeAction":{"codeActionLiteralSupport":{"codeActionKind":{"valueSet":["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports","source.fixAll"]}},"dataSupport":true,"disabledSupport":true,"isPreferredSupport":true,"resolveSupport":{"properties":["edit","command"]}},"completion":{"completionItem":{"deprecatedSupport":true,"insertReplaceSupport":true,"resolveSupport":{"properties":["documentation","detail","additionalTextEdits"]},"snippetSupport":true,"tagSupport":{"valueSet":[1]}},"completionItemKind":{}},"diagnostic":{"dynamicRegistration":false,"relatedDocumentSupport":true},"formatting":{"dynamicRegistration":false},"hover":{"contentFormat":["markdown"]},"inlayHint":{"dynamicRegistration":false},"publishDiagnostics":{"tagSupport":{"valueSet":[1,2]},"versionSupport":true},"rename":{"dynamicRegistration":false,"honorsChangeAnnotations":false,"prepareSupport":true},"signatureHelp":{"signatureInformation":{"activeParameterSupport":true,"documentationFormat":["markdown"],"parameterInformation":{"labelOffsetSupport":true}}}},"window":{"showDocument":{"support":true},"workDoneProgress":true},"workspace":{"applyEdit":true,"configuration":true,"diagnostic":{"refreshSupport":true},"didChangeConfiguration":{"dynamicRegistration":false},"didChangeWatchedFiles":{"dynamicRegistration":true,"relativePatternSupport":false},"executeCommand":{"dynamicRegistration":false},"fileOperations":{"didRename":true,"willRename":true},"inlayHint":{"refreshSupport":false},"symbol":{"dynamicRegistration":false},"workspaceEdit":{"documentChanges":true,"failureHandling":"abort","normalizesLineEndings":false,"resourceOperations":["create","rename","delete"]},"workspaceFolders":true}},"clientInfo":{"name":"helix","version":"25.07.1 (900204eb)"},"initializationOptions":{"nil":{"nix":{"flake":{"autoArchive":true}}}},"processId":26331,"rootPath":"/home/nathaniel/nix","rootUri":"file:///home/nathaniel/nix","workspaceFolders":[{"name":"nix","uri":"file:///home/nathaniel/nix"}]},"id":0}
2025-12-13T14:48:53.086 helix_lsp::transport [INFO] nil <- {"jsonrpc":"2.0","id":0,"result":{"capabilities":{"codeActionProvider":true,"completionProvider":{"triggerCharacters":[".","?"]},"definitionProvider":true,"documentFormattingProvider":true,"documentHighlightProvider":true,"documentLinkProvider":{"resolveProvider":true},"documentSymbolProvider":true,"hoverProvider":true,"referencesProvider":true,"renameProvider":{"prepareProvider":true},"selectionRangeProvider":true,"semanticTokensProvider":{"full":{"delta":false},"legend":{"tokenModifiers":["builtin","conditional","definition","delimiter","escape","parenthesis","readonly","unresolved","withAttribute"],"tokenTypes":["boolean","comment","constant","function","keyword","number","operator","parameter","path","property","punctuation","string","struct","variable"]},"range":true},"textDocumentSync":{"change":2,"openClose":true}},"serverInfo":{"name":"nil","version":"2025-06-13"}}}
2025-12-13T14:48:53.086 helix_lsp::transport [INFO] nil -> {"jsonrpc":"2.0","method":"initialized","params":{}}
2025-12-13T14:48:53.086 helix_lsp::transport [INFO] nil -> {"jsonrpc":"2.0","method":"workspace/didChangeConfiguration","params":{"settings":{"nil":{"nix":{"flake":{"autoArchive":true}}}}}}
2025-12-13T14:48:53.086 helix_lsp::transport [INFO] nil -> {"jsonrpc":"2.0","method":"textDocument/didOpen","params":{"textDocument":{"languageId":"nix","text":"{ pkgs, lib, ... }:\nlet\n  enable = path: value: { enable = true; } // lib.setAttrByPath path value;\nin\n{\n  # Import other home configuration.\n  imports = [\n    ./browser.nix\n    ./editor.nix\n  ];\n\n  # Add packages.\n  home.packages = with pkgs; [\n    mako\n    xdg-desktop-portal-gtk\n    xdg-desktop-portal-gnome\n    (writeShellApplication {\n      name = \"vol\";\n      runtimeInputs = [ sd ];\n      text = ''\n        if [[ $# -eq 0 ]]; then wpctl get-volume @DEFAULT_AUDIO_SINK@ | sd '^Volume: (\\d+\\.\\d+)(?:( )\\[(M)UTED\\])?$' '$1$2$3'\n        elif [[ \"$1\" =~ ^[0-9]+(\\.[0-9]+)?[+-]$ ]]; then wpctl set-volume @DEFAULT_AUDIO_SINK@ \"$1\"\n        else\n            case \"$1\" in\n            \"m\") wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle ;;\n            \"M\") wpctl set-mute @DEFAULT_AUDIO_SINK@ \"1\" ;;\n            \"U\") wpctl set-mute @DEFAULT_AUDIO_SINK@ \"0\" ;;\n            \"+\") wpctl set-volume @DEFAULT_AUDIO_SINK@ \"0.1+\" ;;\n            \"-\") wpctl set-volume @DEFAULT_AUDIO_SINK@ \"0.1-\" ;;\n            esac\n        fi\n      '';\n      excludeShellChecks = [ \"SC2016\" ];\n    })\n    (writeShellScriptBin \"bri\" ''\n      FILE=/sys/class/backlight/amdgpu_bl1/brightness\n      if [[ $# -eq 0 ]]; then cat $FILE\n      else\n        PREV=$(<$FILE)\n        case \"$1\" in\n        \"+\") NEXT=$((PREV + 1285)) ;;\n        \"-\") NEXT=$((PREV - 1285)) ;;\n        *) NEXT=$1 ;;\n        esac\n      fi\n      if [[ $NEXT =~ ^[0-9]{1,5}$ ]]; then sudo tee $FILE <<<\"$NEXT\"; fi\n    '')\n    (writeShellScriptBin \"pwr\" ''\n      cat /sys/class/power_supply/BAT1/capacity\n    '')\n    wl-clipboard\n    (writeShellScriptBin \"unclip\" ''\n      cliphist list | fzf --no-sort | xargs -r cliphist decode | wl-copy\n    '')\n    (writeShellScriptBin \"pdf\" ''\n      for file; do zathura \"$file\" 2>/dev/null & disown; done\n    '')\n    (writeShellScriptBin \"ascii\" ''\n      printf \"$(printf '\\\\x%x ' {32..126})\\n\" | fold --width=32\n    '')\n    (writeShellScriptBin \"ns\" ''\n      nix-search-tv print | fzf \\\n          --preview='nix-search-tv preview {}' \\\n          --bind='ctrl-a:execute(nix-search-tv homepage {} | xargs xdg-open)' \\\n          --bind='ctrl-s:execute(nix-search-tv source {} | xargs xdg-open)' \\\n          --layout=reverse \\\n          --preview-window=\"wrap$(if [[ \"$(tput cols)\" -lt 90 ]]; then printf \",up\"; fi)\" \\\n          --header \"open: homep[a]ge [s]ource\" \\\n          --header-first\n    '')\n    clac\n    libqalculate\n    ffmpeg\n    libreoffice-still\n    hunspell\n    hunspellDicts.en_US-large\n    mupdf-headless\n    dust\n    zip\n    unzip\n    brotli\n    xan\n    pulsemixer\n    wf-recorder\n    wev\n    pandoc\n    xh\n    git-filter-repo\n    (writeShellScriptBin \"gp\" ''\n      if [[ $# -eq 0 ]]; then git pull\n      elif [[ $1 =~ : ]]; then git clone \"$@\"\n      elif [[ $1 =~ / ]]; then git clone \"git@github.com:$1\"\n      else git clone \"git@github.com:nathanielyoon/$1\"; fi\n    '')\n    (writeShellScriptBin \"gl\" ''\n      git log --oneline \"$@\"\n    '')\n    (writeShellScriptBin \"gs\" ''\n      git status --short \"$@\"\n    '')\n    (writeShellScriptBin \"gd\" ''\n      git diff \"$@\"\n    '')\n    (writeShellScriptBin \"ga\" ''\n      if [[ $# -eq 0 ]]; then git add --all\n      else git add \"$@\"; fi\n    '')\n    (writeShellScriptBin \"gc\" ''\n      if [[ $# -eq 0 ]]; then git commit\n      else git commit --message \"$*\"; fi\n    '')\n    (writeShellScriptBin \"gp\" ''\n      git push --quiet \"$@\"\n    '')\n    (writeShellScriptBin \"gacp\" ''\n      if [[ $# -eq 0 ]]; then exit 1; fi\n      git add --all\n      git commit --message \"$*\"\n      git push --quiet\n    '')\n    deno\n    nodejs_latest\n    bun\n    esbuild\n    gcc\n    glibc\n    libcxx\n    python3\n    sqlite\n    rustc\n    cargo\n    (writeShellScriptBin \"dnr\" ''\n      if [[ $# -eq 0 ]]; then deno repl --allow-all --unstable-raw-imports\n      else deno run --allow-all --unstable-raw-imports \"$@\"; fi\n    '')\n    (writeShellScriptBin \"dnl\" ''\n      deno lint --permit-no-files --compact \"$@\"\n    '')\n    (writeShellScriptBin \"dnb\" ''\n      deno bench --unstable-raw-imports --unstable-bundle --unstable-tsgo --allow-all --no-check \"$@\"\n    '')\n    (writeShellScriptBin \"dnt\" ''\n      deno test --allow-all --unstable-raw-imports --unstable-bundle --unstable-tsgo --no-check --permit-no-files --doc --parallel \"$@\"\n    '')\n    (writeShellScriptBin \"dnj\" ''\n      deno task --unstable-raw-imports --unstable-bundle --unstable-tsgo --quiet --cwd=. \"$@\"\n    '')\n    (writeShellScriptBin \"minify\" ''\n      JS=$(esbuild --minify --bundle --format=esm \"$@\")\n      printf \"%s\\n\" \"$JS\"\n      printf \"minify\\t%u\\ngzip\\t%u\\nbrotli\\t%u\\n\" \\\n          \"$(wc --bytes <<<\"$JS\")\" \\\n          \"$(gzip --best <<<\"$JS\" | wc --bytes)\" \\\n          \"$(brotli --best <<<\"$JS\" | wc --bytes)\"\n    '')\n  ];\n  programs.bat = enable [ \"config\" \"style\" ] \"numbers\";\n  programs.btop = enable [ \"settings\" ] {\n    vim_keys = true;\n    rounded_corners = false;\n    update_ms = 1000;\n    temp_scale = \"fahrenheit\";\n    clock_format = \"%X\";\n  };\n  services.cliphist = enable [ \"extraOptions\" ] [ \"-max-items\" \"16777216\" ];\n  programs.chromium = enable [ \"commandLineArgs\" ] [ \"--ozone-platform-hint=auto\" ];\n  programs.fd = enable [ ] {\n    hidden = true;\n    ignores = [ \".git/\" ];\n  };\n  programs.fzf = enable [ \"enableBashIntegration\" ] true;\n  programs.lsd = enable [ ] {\n    enableBashIntegration = false;\n    settings = {\n      blocks = [\n        \"date\"\n        \"permission\"\n        \"size\"\n        \"name\"\n      ];\n      icons.separator = \"  \";\n      sorting.dir-grouping = \"first\";\n    };\n  };\n  programs.mpv = enable [ ] { };\n  programs.nix-search-tv = enable [ \"settings\" \"indexes\" ] [ \"nixpkgs\" \"home-manager\" \"nixos\" ];\n  home.file.\".config/qalculate/qalc.cfg\".text = ''\n    [General]\n    save_config=0\n    save_mode_on_exit=0\n    exp_display=2\n    save_definitions_on_exit=0\n    spacious=1\n\n    [Mode]\n    caret_as_xor=1\n    calculate_as_you_type=1\n  '';\n  programs.ripgrep = enable [ \"arguments\" ] [ \"--smart-case\" ];\n  programs.rtorrent = enable [ ] { };\n  programs.tealdeer = enable [ \"settings\" \"updates\" \"auto_update\" ] true;\n  programs.yt-dlp = enable [ ] { };\n  programs.zathura = enable [ \"options\" \"database\" ] \"sqlite\";\n\n  # Configure bash.\n  programs.bash = enable [ ] {\n    historyFile = \"$HOME/use/histfile\";\n    historyControl = [\n      \"ignoreboth\"\n      \"erasedups\"\n    ];\n    historyFileSize = 536870912;\n    historySize = 1048576;\n    sessionVariables = {\n      LESSHISTFILE = \"-\";\n    };\n    shellOptions = [\n      \"autocd\"\n      \"extglob\"\n      \"globstar\"\n      \"histappend\"\n      \"histverify\"\n      \"lithist\"\n      \"nullglob\"\n    ];\n    # Limit pdf command to file extensions compatible with `mupdf` as per\n    # <https://wiki.archlinux.org/title/Zathura>.\n    initExtra = ''\n      _pdf() {\n          _init_completion || return\n          _filedir '@(pdf|epub|xps)'\n      }\n      complete -F _pdf pdf\n    '';\n  };\n  programs.readline = enable [ ] {\n    bindings = {\n      \"\\\\C-p\" = \"history-search-backward\";\n      \"\\\\C-n\" = \"history-search-forward\";\n    };\n    variables = {\n      colored-stats = true;\n      mark-symlinked-directories = true;\n      match-hidden-files = false;\n      page-completions = false;\n      show-all-if-ambiguous = true;\n      show-all-if-unmodified = true;\n    };\n  };\n\n  # Configure git.\n  programs.git = enable [ \"settings\" ] {\n    user = {\n      name = \"Nathaniel Yoon\";\n      email = \"nathanielyoon.expire025@slmails.com\";\n      useConfigOnly = true;\n    };\n    column.ui = \"auto\";\n    commit.verbose = true;\n    diff.algorithm = \"minimal\";\n    fetch.parallel = 0;\n    fetch.prune = true;\n    help.autocorrect = \"prompt\";\n    init.defaultBranch = \"main\";\n    log.follow = true;\n    push.autoSetupRemote = true;\n    status.showStash = true;\n  };\n  programs.delta = enable [ ] {\n    enableGitIntegration = true;\n    options = {\n      features = \"no-hunk-header\";\n      no-hunk-header.hunk-header-style = \"omit\";\n    };\n  };\n  programs.gh = enable [ ] {\n    gitCredentialHelper.enable = true;\n    settings.git_protocol = \"ssh\";\n  };\n\n  # Configure desktop.\n  home.file.\".icons/default\".source = \"${pkgs.vanilla-dmz}/share/icons/Vanilla-DMZ\";\n  services.wpaperd = enable [ \"settings\" \"default\" \"path\" ] \"/home/nathaniel/use/leo.jpeg\";\n  xdg.userDirs = enable [ ] {\n    desktop = \"$HOME/use/Desktop\";\n    documents = \"$HOME/use/Desktop/documents\";\n    download = \"$HOME/use/downloads\";\n    music = \"$HOME/use/Desktop/music\";\n    pictures = \"$HOME/use/Desktop/pictures\";\n    publicShare = \"$HOME/use/Desktop/public-share\";\n    templates = \"$HOME/use/Desktop/templates\";\n    videos = \"$HOME/use/Desktop/videos\";\n  };\n\n  # Configure home manager.\n  programs.home-manager = enable [ ] { };\n  home = {\n    stateVersion = \"25.11\";\n    username = \"nathaniel\";\n    homeDirectory = \"/home/nathaniel\";\n  };\n}\n","uri":"file:///home/nathaniel/nix/home.nix","version":0}}}
2025-12-13T14:48:53.086 helix_lsp::transport [INFO] nil <- {"jsonrpc":"2.0","id":0,"method":"workspace/configuration","params":{"items":[{"section":"nil"}]}}
2025-12-13T14:48:53.087 helix_lsp::transport [INFO] nil <- {"jsonrpc":"2.0","id":1,"method":"client/registerCapability","params":{"registrations":[{"id":"workspace/didChangeWatchedFiles","method":"workspace/didChangeWatchedFiles","registerOptions":{"watchers":[{"globPattern":"/home/nathaniel/nix/flake.lock"},{"globPattern":"/home/nathaniel/nix/flake.nix"}]}}]}}
2025-12-13T14:48:53.087 helix_lsp::transport [INFO] nil <- {"jsonrpc":"2.0","id":2,"method":"workspace/configuration","params":{"items":[{"section":"nil"}]}}
2025-12-13T14:48:53.087 helix_lsp::transport [INFO] nil -> {"jsonrpc":"2.0","result":[{"nix":{"flake":{"autoArchive":true}}}],"id":0}
2025-12-13T14:48:53.087 helix_lsp::transport [INFO] nil -> {"jsonrpc":"2.0","result":null,"id":1}
2025-12-13T14:48:53.087 helix_lsp::transport [INFO] nil -> {"jsonrpc":"2.0","result":[{"nix":{"flake":{"autoArchive":true}}}],"id":2}
2025-12-13T14:48:53.126 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.125] 26356: <-- initialize(0)\n"
2025-12-13T14:48:53.126 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.126] 26356: --> reply:initialize(0)\n"
2025-12-13T14:48:53.126 helix_lsp::transport [INFO] nixd <- {"id":0,"jsonrpc":"2.0","result":{"capabilities":{"codeActionProvider":{"codeActionKinds":["quickfix"],"resolveProvider":false},"completionProvider":{"resolveProvider":true,"triggerCharacters":["."]},"definitionProvider":true,"documentFormattingProvider":true,"documentHighlightProvider":true,"documentLinkProvider":{},"documentSymbolProvider":true,"hoverProvider":true,"inlayHintProvider":true,"referencesProvider":true,"renameProvider":{"prepareProvider":true},"textDocumentSync":{"change":2,"openClose":true,"save":true}},"serverInfo":{"name":"nixd","version":"2.7.0"}}}
2025-12-13T14:48:53.126 helix_lsp::transport [INFO] nixd -> {"jsonrpc":"2.0","method":"initialized","params":{}}
2025-12-13T14:48:53.126 helix_lsp::transport [INFO] nixd -> {"jsonrpc":"2.0","method":"textDocument/didOpen","params":{"textDocument":{"languageId":"nix","text":"{ pkgs, lib, ... }:\nlet\n  enable = path: value: { enable = true; } // lib.setAttrByPath path value;\nin\n{\n  # Import other home configuration.\n  imports = [\n    ./browser.nix\n    ./editor.nix\n  ];\n\n  # Add packages.\n  home.packages = with pkgs; [\n    mako\n    xdg-desktop-portal-gtk\n    xdg-desktop-portal-gnome\n    (writeShellApplication {\n      name = \"vol\";\n      runtimeInputs = [ sd ];\n      text = ''\n        if [[ $# -eq 0 ]]; then wpctl get-volume @DEFAULT_AUDIO_SINK@ | sd '^Volume: (\\d+\\.\\d+)(?:( )\\[(M)UTED\\])?$' '$1$2$3'\n        elif [[ \"$1\" =~ ^[0-9]+(\\.[0-9]+)?[+-]$ ]]; then wpctl set-volume @DEFAULT_AUDIO_SINK@ \"$1\"\n        else\n            case \"$1\" in\n            \"m\") wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle ;;\n            \"M\") wpctl set-mute @DEFAULT_AUDIO_SINK@ \"1\" ;;\n            \"U\") wpctl set-mute @DEFAULT_AUDIO_SINK@ \"0\" ;;\n            \"+\") wpctl set-volume @DEFAULT_AUDIO_SINK@ \"0.1+\" ;;\n            \"-\") wpctl set-volume @DEFAULT_AUDIO_SINK@ \"0.1-\" ;;\n            esac\n        fi\n      '';\n      excludeShellChecks = [ \"SC2016\" ];\n    })\n    (writeShellScriptBin \"bri\" ''\n      FILE=/sys/class/backlight/amdgpu_bl1/brightness\n      if [[ $# -eq 0 ]]; then cat $FILE\n      else\n        PREV=$(<$FILE)\n        case \"$1\" in\n        \"+\") NEXT=$((PREV + 1285)) ;;\n        \"-\") NEXT=$((PREV - 1285)) ;;\n        *) NEXT=$1 ;;\n        esac\n      fi\n      if [[ $NEXT =~ ^[0-9]{1,5}$ ]]; then sudo tee $FILE <<<\"$NEXT\"; fi\n    '')\n    (writeShellScriptBin \"pwr\" ''\n      cat /sys/class/power_supply/BAT1/capacity\n    '')\n    wl-clipboard\n    (writeShellScriptBin \"unclip\" ''\n      cliphist list | fzf --no-sort | xargs -r cliphist decode | wl-copy\n    '')\n    (writeShellScriptBin \"pdf\" ''\n      for file; do zathura \"$file\" 2>/dev/null & disown; done\n    '')\n    (writeShellScriptBin \"ascii\" ''\n      printf \"$(printf '\\\\x%x ' {32..126})\\n\" | fold --width=32\n    '')\n    (writeShellScriptBin \"ns\" ''\n      nix-search-tv print | fzf \\\n          --preview='nix-search-tv preview {}' \\\n          --bind='ctrl-a:execute(nix-search-tv homepage {} | xargs xdg-open)' \\\n          --bind='ctrl-s:execute(nix-search-tv source {} | xargs xdg-open)' \\\n          --layout=reverse \\\n          --preview-window=\"wrap$(if [[ \"$(tput cols)\" -lt 90 ]]; then printf \",up\"; fi)\" \\\n          --header \"open: homep[a]ge [s]ource\" \\\n          --header-first\n    '')\n    clac\n    libqalculate\n    ffmpeg\n    libreoffice-still\n    hunspell\n    hunspellDicts.en_US-large\n    mupdf-headless\n    dust\n    zip\n    unzip\n    brotli\n    xan\n    pulsemixer\n    wf-recorder\n    wev\n    pandoc\n    xh\n    git-filter-repo\n    (writeShellScriptBin \"gp\" ''\n      if [[ $# -eq 0 ]]; then git pull\n      elif [[ $1 =~ : ]]; then git clone \"$@\"\n      elif [[ $1 =~ / ]]; then git clone \"git@github.com:$1\"\n      else git clone \"git@github.com:nathanielyoon/$1\"; fi\n    '')\n    (writeShellScriptBin \"gl\" ''\n      git log --oneline \"$@\"\n    '')\n    (writeShellScriptBin \"gs\" ''\n      git status --short \"$@\"\n    '')\n    (writeShellScriptBin \"gd\" ''\n      git diff \"$@\"\n    '')\n    (writeShellScriptBin \"ga\" ''\n      if [[ $# -eq 0 ]]; then git add --all\n      else git add \"$@\"; fi\n    '')\n    (writeShellScriptBin \"gc\" ''\n      if [[ $# -eq 0 ]]; then git commit\n      else git commit --message \"$*\"; fi\n    '')\n    (writeShellScriptBin \"gp\" ''\n      git push --quiet \"$@\"\n    '')\n    (writeShellScriptBin \"gacp\" ''\n      if [[ $# -eq 0 ]]; then exit 1; fi\n      git add --all\n      git commit --message \"$*\"\n      git push --quiet\n    '')\n    deno\n    nodejs_latest\n    bun\n    esbuild\n    gcc\n    glibc\n    libcxx\n    python3\n    sqlite\n    rustc\n    cargo\n    (writeShellScriptBin \"dnr\" ''\n      if [[ $# -eq 0 ]]; then deno repl --allow-all --unstable-raw-imports\n      else deno run --allow-all --unstable-raw-imports \"$@\"; fi\n    '')\n    (writeShellScriptBin \"dnl\" ''\n      deno lint --permit-no-files --compact \"$@\"\n    '')\n    (writeShellScriptBin \"dnb\" ''\n      deno bench --unstable-raw-imports --unstable-bundle --unstable-tsgo --allow-all --no-check \"$@\"\n    '')\n    (writeShellScriptBin \"dnt\" ''\n      deno test --allow-all --unstable-raw-imports --unstable-bundle --unstable-tsgo --no-check --permit-no-files --doc --parallel \"$@\"\n    '')\n    (writeShellScriptBin \"dnj\" ''\n      deno task --unstable-raw-imports --unstable-bundle --unstable-tsgo --quiet --cwd=. \"$@\"\n    '')\n    (writeShellScriptBin \"minify\" ''\n      JS=$(esbuild --minify --bundle --format=esm \"$@\")\n      printf \"%s\\n\" \"$JS\"\n      printf \"minify\\t%u\\ngzip\\t%u\\nbrotli\\t%u\\n\" \\\n          \"$(wc --bytes <<<\"$JS\")\" \\\n          \"$(gzip --best <<<\"$JS\" | wc --bytes)\" \\\n          \"$(brotli --best <<<\"$JS\" | wc --bytes)\"\n    '')\n  ];\n  programs.bat = enable [ \"config\" \"style\" ] \"numbers\";\n  programs.btop = enable [ \"settings\" ] {\n    vim_keys = true;\n    rounded_corners = false;\n    update_ms = 1000;\n    temp_scale = \"fahrenheit\";\n    clock_format = \"%X\";\n  };\n  services.cliphist = enable [ \"extraOptions\" ] [ \"-max-items\" \"16777216\" ];\n  programs.chromium = enable [ \"commandLineArgs\" ] [ \"--ozone-platform-hint=auto\" ];\n  programs.fd = enable [ ] {\n    hidden = true;\n    ignores = [ \".git/\" ];\n  };\n  programs.fzf = enable [ \"enableBashIntegration\" ] true;\n  programs.lsd = enable [ ] {\n    enableBashIntegration = false;\n    settings = {\n      blocks = [\n        \"date\"\n        \"permission\"\n        \"size\"\n        \"name\"\n      ];\n      icons.separator = \"  \";\n      sorting.dir-grouping = \"first\";\n    };\n  };\n  programs.mpv = enable [ ] { };\n  programs.nix-search-tv = enable [ \"settings\" \"indexes\" ] [ \"nixpkgs\" \"home-manager\" \"nixos\" ];\n  home.file.\".config/qalculate/qalc.cfg\".text = ''\n    [General]\n    save_config=0\n    save_mode_on_exit=0\n    exp_display=2\n    save_definitions_on_exit=0\n    spacious=1\n\n    [Mode]\n    caret_as_xor=1\n    calculate_as_you_type=1\n  '';\n  programs.ripgrep = enable [ \"arguments\" ] [ \"--smart-case\" ];\n  programs.rtorrent = enable [ ] { };\n  programs.tealdeer = enable [ \"settings\" \"updates\" \"auto_update\" ] true;\n  programs.yt-dlp = enable [ ] { };\n  programs.zathura = enable [ \"options\" \"database\" ] \"sqlite\";\n\n  # Configure bash.\n  programs.bash = enable [ ] {\n    historyFile = \"$HOME/use/histfile\";\n    historyControl = [\n      \"ignoreboth\"\n      \"erasedups\"\n    ];\n    historyFileSize = 536870912;\n    historySize = 1048576;\n    sessionVariables = {\n      LESSHISTFILE = \"-\";\n    };\n    shellOptions = [\n      \"autocd\"\n      \"extglob\"\n      \"globstar\"\n      \"histappend\"\n      \"histverify\"\n      \"lithist\"\n      \"nullglob\"\n    ];\n    # Limit pdf command to file extensions compatible with `mupdf` as per\n    # <https://wiki.archlinux.org/title/Zathura>.\n    initExtra = ''\n      _pdf() {\n          _init_completion || return\n          _filedir '@(pdf|epub|xps)'\n      }\n      complete -F _pdf pdf\n    '';\n  };\n  programs.readline = enable [ ] {\n    bindings = {\n      \"\\\\C-p\" = \"history-search-backward\";\n      \"\\\\C-n\" = \"history-search-forward\";\n    };\n    variables = {\n      colored-stats = true;\n      mark-symlinked-directories = true;\n      match-hidden-files = false;\n      page-completions = false;\n      show-all-if-ambiguous = true;\n      show-all-if-unmodified = true;\n    };\n  };\n\n  # Configure git.\n  programs.git = enable [ \"settings\" ] {\n    user = {\n      name = \"Nathaniel Yoon\";\n      email = \"nathanielyoon.expire025@slmails.com\";\n      useConfigOnly = true;\n    };\n    column.ui = \"auto\";\n    commit.verbose = true;\n    diff.algorithm = \"minimal\";\n    fetch.parallel = 0;\n    fetch.prune = true;\n    help.autocorrect = \"prompt\";\n    init.defaultBranch = \"main\";\n    log.follow = true;\n    push.autoSetupRemote = true;\n    status.showStash = true;\n  };\n  programs.delta = enable [ ] {\n    enableGitIntegration = true;\n    options = {\n      features = \"no-hunk-header\";\n      no-hunk-header.hunk-header-style = \"omit\";\n    };\n  };\n  programs.gh = enable [ ] {\n    gitCredentialHelper.enable = true;\n    settings.git_protocol = \"ssh\";\n  };\n\n  # Configure desktop.\n  home.file.\".icons/default\".source = \"${pkgs.vanilla-dmz}/share/icons/Vanilla-DMZ\";\n  services.wpaperd = enable [ \"settings\" \"default\" \"path\" ] \"/home/nathaniel/use/leo.jpeg\";\n  xdg.userDirs = enable [ ] {\n    desktop = \"$HOME/use/Desktop\";\n    documents = \"$HOME/use/Desktop/documents\";\n    download = \"$HOME/use/downloads\";\n    music = \"$HOME/use/Desktop/music\";\n    pictures = \"$HOME/use/Desktop/pictures\";\n    publicShare = \"$HOME/use/Desktop/public-share\";\n    templates = \"$HOME/use/Desktop/templates\";\n    videos = \"$HOME/use/Desktop/videos\";\n  };\n\n  # Configure home manager.\n  programs.home-manager = enable [ ] { };\n  home = {\n    stateVersion = \"25.11\";\n    username = \"nathaniel\";\n    homeDirectory = \"/home/nathaniel\";\n  };\n}\n","uri":"file:///home/nathaniel/nix/home.nix","version":0}}}
2025-12-13T14:48:53.127 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.127] 26356: --> call window/workDoneProgress/create(1)\n"
2025-12-13T14:48:53.127 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.127] 26356: --> notify $/progress\n"
2025-12-13T14:48:53.127 helix_lsp::transport [INFO] nixd <- {"id":1,"jsonrpc":"2.0","method":"window/workDoneProgress/create","params":{"token":1804289383}}
2025-12-13T14:48:53.127 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.127] 26356: --> call attrset/evalExpr(1)\n"
2025-12-13T14:48:53.127 helix_lsp::transport [INFO] nixd <- {"jsonrpc":"2.0","method":"$/progress","params":{"token":1804289383,"value":{"kind":"begin","title":"evaluating nixpkgs entries"}}}
2025-12-13T14:48:53.127 helix_lsp::transport [INFO] nixd -> {"jsonrpc":"2.0","result":null,"id":1}
2025-12-13T14:48:53.128 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.128] 26356: --> call window/workDoneProgress/create(2)\n"
2025-12-13T14:48:53.128 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.128] 26356: --> notify $/progress\n"
2025-12-13T14:48:53.128 helix_lsp::transport [INFO] nixd <- {"id":2,"jsonrpc":"2.0","method":"window/workDoneProgress/create","params":{"token":846930886}}
2025-12-13T14:48:53.128 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.128] 26356: --> call attrset/evalExpr(1)\n"
2025-12-13T14:48:53.128 helix_lsp::transport [INFO] nixd <- {"jsonrpc":"2.0","method":"$/progress","params":{"token":846930886,"value":{"kind":"begin","title":"evaluating nixos options"}}}
2025-12-13T14:48:53.128 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.128] 26356: --> call workspace/configuration(3)\n"
2025-12-13T14:48:53.128 helix_lsp::transport [INFO] nixd <- {"id":3,"jsonrpc":"2.0","method":"workspace/configuration","params":{"items":[{"section":"nixd"}]}}
2025-12-13T14:48:53.128 helix_lsp::transport [INFO] nixd -> {"jsonrpc":"2.0","result":null,"id":2}
2025-12-13T14:48:53.128 helix_lsp::transport [INFO] nixd -> {"jsonrpc":"2.0","result":[null],"id":3}
2025-12-13T14:48:53.128 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.128] 26356: <-- initialized\n"
2025-12-13T14:48:53.128 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.128] 26356: <-- textDocument/didOpen\n"
2025-12-13T14:48:53.129 helix_lsp::transport [INFO] nixd <- {"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nathaniel/nix/home.nix","version":0}}
2025-12-13T14:48:53.129 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.129] 26356: --> notify textDocument/publishDiagnostics\n"
2025-12-13T14:48:53.129 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.129] 26356: <-- reply(1)\n"
2025-12-13T14:48:53.129 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.129] 26356: <-- reply(2)\n"
2025-12-13T14:48:53.129 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.129] 26356: <-- reply(3)\n"
2025-12-13T14:48:53.129 helix_lsp::transport [ERROR] nixd err <- "E[14:48:53.129] 26356: workspace/configuration: parse error expected object\n"
2025-12-13T14:48:53.226 helix_lsp::transport [INFO] nil <- {"jsonrpc":"2.0","id":3,"method":"window/workDoneProgress/create","params":{"token":"nil/loadNixosOptionsProgress"}}
2025-12-13T14:48:53.227 helix_lsp::transport [INFO] nil -> {"jsonrpc":"2.0","result":null,"id":3}
2025-12-13T14:48:53.227 helix_lsp::transport [INFO] nil <- {"jsonrpc":"2.0","method":"$/progress","params":{"token":"nil/loadNixosOptionsProgress","value":{"kind":"begin","title":"Loading NixOS options from 'nixpkgs'"}}}
2025-12-13T14:48:53.452 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.452] 26356: <-- reply(1)\n"
2025-12-13T14:48:53.452 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.452] 26356: --> notify $/progress\n"
2025-12-13T14:48:53.452 helix_lsp::transport [INFO] nixd <- {"jsonrpc":"2.0","method":"$/progress","params":{"token":1804289383,"value":{"kind":"end","message":"evaluated nixpkgs entries"}}}
2025-12-13T14:48:53.807 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.807] 26356: <-- reply(1)\n"
2025-12-13T14:48:53.807 helix_lsp::transport [INFO] nixd <- {"jsonrpc":"2.0","method":"$/progress","params":{"token":846930886,"value":{"kind":"end","message":"evaluated nixos options"}}}
2025-12-13T14:48:53.807 helix_lsp::transport [ERROR] nixd err <- "I[14:48:53.807] 26356: --> notify $/progress\n"
2025-12-13T14:48:54.081 helix_lsp::transport [INFO] nil <- {"jsonrpc":"2.0","method":"$/progress","params":{"token":"nil/loadNixosOptionsProgress","value":{"kind":"end"}}}
2025-12-13T14:49:00.395 helix_lsp::transport [INFO] nixd -> {"jsonrpc":"2.0","method":"textDocument/didChange","params":{"contentChanges":[{"range":{"end":{"character":28,"line":88},"start":{"character":27,"line":88}},"text":"f"}],"textDocument":{"uri":"file:///home/nathaniel/nix/home.nix","version":1}}}
2025-12-13T14:49:00.395 helix_lsp::transport [INFO] nil -> {"jsonrpc":"2.0","method":"textDocument/didChange","params":{"contentChanges":[{"range":{"end":{"character":28,"line":88},"start":{"character":27,"line":88}},"text":"f"}],"textDocument":{"uri":"file:///home/nathaniel/nix/home.nix","version":1}}}
2025-12-13T14:49:00.395 helix_lsp::transport [ERROR] nixd err <- "I[14:49:00.395] 26356: <-- textDocument/didChange\n"
2025-12-13T14:49:00.396 helix_lsp::transport [ERROR] nixd err <- "I[14:49:00.396] 26356: --> notify textDocument/publishDiagnostics\n"
2025-12-13T14:49:00.396 helix_lsp::transport [INFO] nixd <- {"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"diagnostics":[],"uri":"file:///home/nathaniel/nix/home.nix","version":1}}
2025-12-13T14:49:01.093 helix_lsp::transport [INFO] nixd -> {"jsonrpc":"2.0","method":"textDocument/didSave","params":{"textDocument":{"uri":"file:///home/nathaniel/nix/home.nix"}}}
2025-12-13T14:49:01.094 helix_lsp::transport [ERROR] nixd err <- "I[14:49:01.094] 26356: <-- textDocument/didSave\n"
2025-12-13T14:49:01.094 helix_lsp::transport [ERROR] nixd err <- "I[14:49:01.094] 26356: unhandled notification textDocument/didSave\n"
2025-12-13T14:49:02.217 helix_lsp::transport [INFO] nixd -> {"jsonrpc":"2.0","method":"shutdown","id":1}
2025-12-13T14:49:02.217 helix_lsp::transport [INFO] nil -> {"jsonrpc":"2.0","method":"shutdown","id":1}
2025-12-13T14:49:02.217 helix_lsp::transport [ERROR] nixd err <- "I[14:49:02.217] 26356: <-- shutdown(1)\n"
2025-12-13T14:49:02.218 helix_lsp::transport [ERROR] nixd err <- "I[14:49:02.217] 26356: --> reply:shutdown(1)\n"
2025-12-13T14:49:02.217 helix_lsp::transport [INFO] nil <- {"jsonrpc":"2.0","id":1,"result":null}
2025-12-13T14:49:02.218 helix_lsp::transport [INFO] nixd <- {"id":1,"jsonrpc":"2.0","result":null}
2025-12-13T14:49:02.218 helix_lsp::transport [INFO] nixd -> {"jsonrpc":"2.0","method":"exit"}
2025-12-13T14:49:02.218 helix_lsp::transport [INFO] nil -> {"jsonrpc":"2.0","method":"exit"}
2025-12-13T14:49:02.218 helix_lsp::transport [ERROR] nixd err <- "I[14:49:02.218] 26356: <-- exit\n"
2025-12-13T14:49:02.222 helix_lsp::transport [ERROR] nil err: <- StreamClosed
2025-12-13T14:49:02.222 helix_lsp::transport [ERROR] err: <- Other(failed to send a message to server

Caused by:
    channel closed)
